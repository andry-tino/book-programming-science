%
% Tikz Diagram
%

\begin{tikzpicture}

\tikzmath{
	\S = 0.7cm;
}

\tikzset{square matrix/.style={
    matrix of nodes,
    column sep=-\pgflinewidth, row sep=-\pgflinewidth,
    nodes={draw,
      minimum height=#1,
      anchor=center,
      text width=#1,
      align=center,
      inner sep=0pt
    },
  },
  square matrix/.default=\S
}

\matrix[square matrix] (m1) at (0,0)
{
$y_{1,1}$ & $y_{1,2}$ & $y_{1,3}$ & $y_{1,4}$ & $y_{1,5}$ & $y_{1,6}$ \\
$y_{2,1}$ & $y_{2,2}$ & $y_{2,3}$ & $y_{2,4}$ & $y_{2,5}$ & $y_{2,6}$ \\
$y_{3,1}$ & $y_{3,2}$ &|[fill=black,text=white]| $y_{3,3}$ & $y_{3,4}$ & $y_{3,5}$ & $y_{3,6}$ \\
$y_{4,1}$ & $y_{4,2}$ & $y_{4,3}$ & $y_{4,4}$ & $y_{4,5}$ & $y_{4,6}$ \\
$y_{5,1}$ & $y_{5,2}$ & $y_{5,3}$ & $y_{5,4}$ & $y_{5,5}$ & $y_{5,6}$ \\
$y_{6,1}$ & $y_{6,2}$ & $y_{6,3}$ & $y_{6,4}$ & $y_{6,5}$ & $y_{6,6}$ \\
};
\draw[opacity=.5, ultra thick, red] (m1-2-2.north west)-|
   (m1-4-4.south east)-|
   (m1-4-2.south west)-|cycle;

\matrix[square matrix, fill=white] (m2) at (-4,1.3)
{
|[fill=lightgray]| $y_{2,2}$ &|[fill=lightgray]| $y_{2,3}$ &|[fill=lightgray]| $y_{2,4}$ \\
|[fill=lightgray]| $y_{3,2}$ &|[fill=black,text=white]| $y_{3,3}$ &|[fill=lightgray]| $y_{3,4}$ \\
|[fill=lightgray]| $y_{4,2}$ &|[fill=lightgray]| $y_{4,3}$ &|[fill=lightgray]| $y_{4,4}$ \\
};
\node[text width=3cm] at (-5,1.3) {$B^\text{M}_1\left( y_{3,3} \right)$};
\draw[opacity=.5, thick, red] (m1-2-4.north east)--(m2-1-3.north east);
\draw[opacity=.5, thick, red] (m1-4-2.south west)--(m2-3-1.south west);

\matrix[square matrix, fill=white] (m3) at (-4,-1.3)
{
$y_{2,2}$ &|[fill=lightgray]| $y_{2,3}$ & $y_{2,4}$ \\
|[fill=lightgray]| $y_{3,2}$ &|[fill=black,text=white]| $y_{3,3}$ &|[fill=lightgray]| $y_{3,4}$ \\
$y_{4,2}$ &|[fill=lightgray]| $y_{4,3}$ & $y_{4,4}$ \\
};
\node[text width=3cm] at (-5,-1.3) {$B^\text{VN}_1\left( y_{3,3} \right)$};
\draw[opacity=.5, thick, red] (m1-2-2.north west)--(m3-1-1.north west);
\draw[opacity=.5, thick, red] (m1-4-4.south east)--(m3-3-3.south east);

\end{tikzpicture}
